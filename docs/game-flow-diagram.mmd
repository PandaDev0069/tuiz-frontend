graph TD
    A[Host Starts Quiz] --> B[Host Screen Split]
    B --> C[Host Control Panel]
    B --> D[Public Display Screen]
    B --> E[Player Devices]
    
    C --> F[Host Controls & Settings]
    D --> G[Question Display for Audience]
    E --> H[Player Answer Interface]
    
    F --> I[Question Management]
    I --> J[Broadcast question_start Event]
    J --> K[Players Answer Questions]
    K --> L[Submit Answers via API]
    L --> M[Backend Aggregates Answers]
    M --> N[Broadcast answer_reveal Event]
    N --> O[Show Answer Statistics]
    O --> P{Is Final Question?}
    
    P -->|No| Q[Show Leaderboard]
    P -->|Yes| R[Skip Leaderboard]
    
    Q --> S[Show Explanations]
    R --> S
    S --> T{More Questions?}
    
    T -->|Yes| I
    T -->|No| U[Game End]
    
    U --> V[Podium View]
    V --> W[Winner Reveals with Animations]
    W --> X[Analytics Generation]
    X --> Y[Host Options]
    
    Y --> Z1[Dismiss Room]
    Y --> Z2[Start New Game]
    Z2 --> AA[Return to Waiting Room]
    Z1 --> BB[End Session]
